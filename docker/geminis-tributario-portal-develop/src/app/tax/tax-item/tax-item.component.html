<div class="page-container">
    <div class="container">
        <div class="row">
            <app-breadcrumbs
                [steps]="[{name:'Inicio',link:'/home'},{name:'Identificador ' + id,link:'/tax/search/' + objectType + '/' + id}]">
            </app-breadcrumbs>
        </div>
        <div class="row">
            <div class="col-12">
                <h3 class="sub-section-title my-4">Datos Generales</h3>
                <mat-card class="default-card p-4">
                    <mat-card-content>
                        <div class="info-grid info-grid-wide">
<!--                            <div>-->
<!--                                <span>Objeto</span>-->
<!--                                <span>{{objectInfo.object}}</span>-->
<!--                            </div>-->
                            <div>
                                <span>Identificador</span>
                                <span>{{objectInfo.id}}</span>
                            </div>
                            <div>
                                <span>CUIT</span>
                                <span>{{objectInfo.cuit}}</span>
                            </div>
                            <div>
                                <span>Nombre</span>
                                <span>{{objectInfo.fullName}}</span>
                            </div>
                            <div>
                                <span>Titular</span>
                                <span>{{objectInfo.holder}}</span>
                            </div>
<!--                            <div>-->
<!--                                <span>Tipo de Liquidación</span>-->
<!--                                <span>{{objectInfo.settlementType}}</span>-->
<!--                            </div>-->
                            <div>
                                <span>Domicilio</span>
                                <span>{{objectInfo.address}}</span>
                            </div>
                        </div>
                        <!-- <div class="row info-grid">
                            <div class="col-6 col-sm-3">
                                <span class="key">Objeto</span>
                                <span class="value">1234</span>
                            </div>
                            <div class="col-6 col-sm-3">
                                <span class="key">Identificador</span>
                                <span class="value">1234</span>
                            </div>
                            <div class="col-6 col-sm-3">
                                <span class="key">CUIT</span>
                                <span class="value">1234</span>
                            </div>
                            <div class="col-6 col-sm-3">
                                <span class="key">Nombre</span>
                                <span class="value">1234</span>
                            </div>
                            <div class="col-6 col-sm-3">
                                <span class="key">Titular</span>
                                <span class="value">1234</span>
                            </div>
                            <div class="col-6 col-sm-3">
                                <span class="key">Tipo de Liquidación</span>
                                <span class="value">1234</span>
                            </div>
                            <div class="col-6 col-sm-3">
                                <span class="key">Domicilio</span>
                                <span class="value">1234</span>
                            </div>
                        </div> -->
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
        <div class="row mt-4">
            <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start" dynamicHeight animationDuration="0ms">
                <!-- TAB DEUDA -->
                <mat-tab label="DEUDA">
                    <div class="default-card-style bg-white p-4">
                        <div class="bg-light p-4 br-1">
                            <h3 class="sub-section-title section-border">Deuda Administrativa</h3>
                            <div class="row align-items-center">
                                <div class="col-sm-6">
                                    <div class="row info-grid">
                                        <div>
                                            <span class="key">Vencido</span>
                                            <span class="value">$ 50000</span>
                                        </div>
                                        <div>
                                            <span class="key">No Vencido</span>
                                            <span class="value">$ 100</span>
                                        </div>
                                        <div>
                                            <span class="key">Total</span>
                                            <span class="value">$ 50100</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <mat-form-field class="w-100" subscriptSizing="dynamic">
                                        <mat-label>Seleccione Tributo</mat-label>
                                        <mat-select>
                                            <mat-option value="option 1">Opción 1</mat-option>
                                            <mat-option value="option 2">Opción 2</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div class="table-container py-4">
                            <div class="row align-items-center mb-4">
                                <div class="col-sm-6 d-flex justify-content-between">
                                </div>
                                <div class="col-sm-6 d-flex justify-content-evenly mt-4 mt-sm-0 d-sm-block text-end">
                                    <button mat-raised-button color="primary" [disabled]="!debtSelection.selected.length" (click)="onPayment()">PAGAR</button>
                                    <button mat-raised-button class="ms-sm-2" [disabled]="!debtSelection.selected.length">CEDULON</button>
                                    <button mat-raised-button class="ms-sm-2" [disabled]="!debtSelection.selected.length">PLAN</button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col responsive-table">
                                    <table mat-table [dataSource]="debtDataSource" class="mat-elevation-z8">

                                        <!-- Checkbox Column -->
                                        <ng-container matColumnDef="select">
                                            <th mat-header-cell *matHeaderCellDef>
                                                <mat-checkbox color="primary" (change)="$event ? toggleAllRows() : null" [checked]="debtSelection.hasValue() && isAllSelected()"
                                                    [indeterminate]="debtSelection.hasValue() && !isAllSelected()" [aria-label]="checkboxLabel()">
                                                </mat-checkbox>
                                            </th>
                                            <td mat-cell *matCellDef="let row">
                                                <mat-checkbox color="primary" (click)="$event.stopPropagation()" (change)="$event ? debtSelection.toggle(row) : null"
                                                    [checked]="debtSelection.isSelected(row)" [aria-label]="checkboxLabel(row)">
                                                </mat-checkbox>
                                            </td>
                                        </ng-container>

                                        <!-- Período Column -->
                                        <ng-container matColumnDef="period">
                                            <th mat-header-cell *matHeaderCellDef> Período </th>
                                            <td mat-cell *matCellDef="let element"> {{element.period}} </td>
                                        </ng-container>

                                        <!-- Vencimiento Column -->
                                        <ng-container matColumnDef="expiration">
                                            <th mat-header-cell *matHeaderCellDef> Vencimiento </th>
                                            <td mat-cell *matCellDef="let element" [ngClass]="{'expirated': element.status == 'D'}"> {{element.expiration | date: 'dd/MM/YYYY'}}
                                                <!-- <span *ngIf="element.status == 'D'" class="expiration-badge">D</span> -->
                                            </td>
                                        </ng-container>

                                        <!-- Nominal Column -->
                                        <ng-container matColumnDef="nominal">
                                            <th mat-header-cell *matHeaderCellDef class="mobile-hide"> Nominal </th>
                                            <td mat-cell *matCellDef="let element" class="mobile-hide"> {{element.nominal}}</td>
                                        </ng-container>

                                        <!-- Recarga Column -->
                                        <ng-container matColumnDef="recharge">
                                            <th mat-header-cell *matHeaderCellDef class="mobile-hide"> Recargo </th>
                                            <td mat-cell *matCellDef="let element" class="mobile-hide"> {{element.recharge}} </td>
                                        </ng-container>

                                        <!-- Descuento Column -->
                                        <ng-container matColumnDef="discount">
                                            <th mat-header-cell *matHeaderCellDef class="mobile-hide"> Descuento </th>
                                            <td mat-cell *matCellDef="let element" class="mobile-hide"> {{element.discount}} </td>
                                        </ng-container>

                                        <!-- Multa Column -->
                                        <ng-container matColumnDef="penalty">
                                            <th mat-header-cell *matHeaderCellDef class="mobile-hide"> Multa </th>
                                            <td mat-cell *matCellDef="let element" class="mobile-hide"> {{element.penalty}} </td>
                                        </ng-container>

                                        <!-- Total Column -->
                                        <ng-container matColumnDef="total">
                                            <th mat-header-cell *matHeaderCellDef> Total </th>
                                            <td mat-cell *matCellDef="let element">
                                                ${{element.total}}
                                                <button mat-icon-button color="primary" aria-label="Information Icon" class="information-icon desktop-hide" (click)="onShowDebtInformation()">
                                                    <mat-icon class="icon material-icons-outlined" aria-hidden="false" aria-label="icon">info_outline</mat-icon>
                                                  </button>
                                            </td>
                                        </ng-container>

                                        <tr mat-header-row *matHeaderRowDef="debtDisplayedColumns"></tr>
                                        <tr mat-row *matRowDef="let row; columns: debtDisplayedColumns;">
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-tab>
                <!-- TAB PAGOS -->
                <mat-tab label="PAGOS">
                    <div class="default-card-style bg-white p-4">
                        <div class="bg-light p-4 br-1">
                            <h3 class="sub-section-title section-border">Últimos Pagos</h3>
                            <div class="row align-items-center">
                                <div class="col-sm-6">
                                    <div class="row info-grid">
                                        <div>
                                            <span class="key">Vencida</span>
                                            <span class="value">$ 1234</span>
                                        </div>
                                        <div>
                                            <span class="key">No Vencida</span>
                                            <span class="value">$ 1234</span>
                                        </div>
                                        <div>
                                            <span class="key">Total</span>
                                            <span class="value">$ 1234</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <mat-form-field class="w-100" subscriptSizing="dynamic">
                                        <mat-label>Seleccione Tributo</mat-label>
                                        <mat-select>
                                            <mat-option value="option 1">Opción 1</mat-option>
                                            <mat-option value="option 2">Opción 2</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div class="table-container py-4">
                            <div class="row">
                                <div class="col responsive-table">
                                    <table mat-table [dataSource]="paymentDataSource" class="mat-elevation-z8">

                                        <!-- Período Column -->
                                        <ng-container matColumnDef="period">
                                            <th mat-header-cell *matHeaderCellDef> Período </th>
                                            <td mat-cell *matCellDef="let element"> {{element.period}} </td>
                                        </ng-container>

                                        <!-- Vencimiento Column -->
                                        <ng-container matColumnDef="payment">
                                            <th mat-header-cell *matHeaderCellDef> Fecha de Pago </th>
                                            <td mat-cell *matCellDef="let element"> {{element.payment | date: 'dd/MM/YYYY'}} </td>
                                        </ng-container>

                                        <!-- Nominal Column -->
                                        <ng-container matColumnDef="nominal">
                                            <th mat-header-cell *matHeaderCellDef> Nominal </th>
                                            <td mat-cell *matCellDef="let element"> {{element.nominal}} </td>
                                        </ng-container>

                                        <!-- Recarga Column -->
                                        <ng-container matColumnDef="recharge">
                                            <th mat-header-cell *matHeaderCellDef> Recargo </th>
                                            <td mat-cell *matCellDef="let element"> {{element.recharge}} </td>
                                        </ng-container>

                                        <!-- Descuento Column -->
                                        <ng-container matColumnDef="discount">
                                            <th mat-header-cell *matHeaderCellDef> Descuento </th>
                                            <td mat-cell *matCellDef="let element"> {{element.discount}} </td>
                                        </ng-container>

                                        <!-- Multa Column -->
                                        <ng-container matColumnDef="penalty">
                                            <th mat-header-cell *matHeaderCellDef> Multa </th>
                                            <td mat-cell *matCellDef="let element"> {{element.penalty}} </td>
                                        </ng-container>

                                        <!-- Total Column -->
                                        <ng-container matColumnDef="total">
                                            <th mat-header-cell *matHeaderCellDef> Total </th>
                                            <td mat-cell *matCellDef="let element"> {{element.total}} </td>
                                        </ng-container>

                                        <tr mat-header-row *matHeaderRowDef="paymentDisplayedColumns"></tr>
                                        <tr mat-row *matRowDef="let row; columns: paymentDisplayedColumns;">
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-tab>
                <!-- TAB PLANES -->
                <mat-tab label="PLANES">
                    <ng-template mat-tab-label>
                        <div [matBadge]="plans.length" matBadgeColor="primary" matBadgeOverlap="false">PLANES</div>
                    </ng-template>
                    <div class="default-card-style bg-white p-4">
                        <h3 class="sub-section-title my-3">Planes Vigentes</h3>
                        <div class="row">
                            <div class="col-sm-6 detail-card mb-4" *ngFor="let plan of plans">
                                <div class="br-1 bg-light detail-card-inner plan-card p-4 pointer" [routerLink]="['/tax/plan-detail/' + plan.id]">
                                    <h3 class="mb-0">{{plan.title}}</h3>
                                    <span *ngIf="plan.status == 'D'" class="badge rounded-pill text-bg-danger mb-2">Posee deudas vencidas</span>
                                    <span *ngIf="plan.status == 'A'" class="badge rounded-pill text-bg-success mb-2">Plan al día</span>
                                    <div class="info-grid">
                                        <div>
                                            <span class="key">Plan</span>
                                            <span class="value">{{plan.id}}</span>
                                        </div>
                                        <div>
                                            <span class="key">Fecha</span>
                                            <span class="value">{{plan.createdAt | date: 'dd/MM/YYYY'}}</span>
                                        </div>
                                        <div>
                                            <span class="key">Cuotas</span>
                                            <span class="value">{{plan.installments}}</span>
                                        </div>
                                        <div>
                                            <span class="key">Capital</span>
                                            <span class="value">${{plan.capital}}</span>
                                        </div>
                                        <div>
                                            <span class="key">Accessor</span>
                                            <span class="value">${{plan.accessor}}</span>
                                        </div>
                                        <div>
                                            <span class="key">Total</span>
                                            <span class="value">${{plan.total}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-tab>
                <!-- TAB MULTAS -->
<!--                <mat-tab label="MULTAS" labelClass="penalties-tab">-->
<!--                    <ng-template mat-tab-label>-->
<!--                        <div [matBadge]="penalties.length" matBadgeColor="accent" matBadgeOverlap="false">MULTAS</div>-->
<!--                    </ng-template>-->
<!--                    <div class="default-card-style bg-white p-4">-->
<!--                        <h3 class="sub-section-title my-3">Multas</h3>-->
<!--                        <div class="row">-->
<!--                            <div class="col-sm-6 detail-card mb-4" *ngFor="let penalty of penalties">-->
<!--                                <div class="br-1 bg-light detail-card-inner penalty-card p-4">-->
<!--                                    <div class="row">-->
<!--                                        <div class="col d-flex justify-content-between mb-2">-->
<!--                                            <span class="medium">#{{penalty.id}}</span>-->
<!--                                            <span class="medium">{{penalty.createdAt | date: 'dd/MM/YYYY'}}</span>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                    <h3 class="mb-4">{{penalty.title}}</h3>-->
<!--                                    <div class="info-grid">-->
<!--                                        <div>-->
<!--                                            <span class="key">Base</span>-->
<!--                                            <span class="value">${{penalty.base}}</span>-->
<!--                                        </div>-->
<!--                                        <div>-->
<!--                                            <span class="key">Rechage</span>-->
<!--                                            <span class="value">{{penalty.recharge}}</span>-->
<!--                                        </div>-->
<!--                                        <div>-->
<!--                                            <span class="key">Deducción</span>-->
<!--                                            <span class="value">{{penalty.discount}}</span>-->
<!--                                        </div>-->
<!--                                        <div>-->
<!--                                            <span class="key">Total</span>-->
<!--                                            <span class="value">${{penalty.total}}</span>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                    <div class="row my-2 separator"></div>-->
<!--                                    <div class="d-flex justify-content-end">-->
<!--                                        <button mat-button color="accent" (click)="onOpenDocument(penalty.link)">DESCARGAR</button>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </mat-tab>-->
                <!-- TAB JUICIOS -->
<!--                <mat-tab label="JUICIOS" labelClass="lawsuits-tab">-->
<!--                    <ng-template mat-tab-label>-->
<!--                        <div [matBadge]="lawsuits.length" matBadgeColor="warn" matBadgeOverlap="false">JUICIOS</div>-->
<!--                    </ng-template>-->
<!--                    <div class="default-card-style bg-white p-4">-->
<!--                        <h3 class="sub-section-title my-3">Juicios Vigentes</h3>-->
<!--                        <div class="row">-->
<!--                            <div class="col-sm-6 detail-card mb-4" *ngFor="let lawsuite of lawsuits">-->
<!--                                <div class="br-1 bg-light detail-card-inner lawsuit-card p-4 pointer" [routerLink]="['/law-suite/' + lawsuite.id]">-->
<!--                                    <h3 class="mb-4">{{lawsuite.title}}</h3>-->
<!--                                    <div class="info-grid">-->
<!--                                        <div>-->
<!--                                            <span class="key">Identificador</span>-->
<!--                                            <span class="value">{{lawsuite.id}}</span>-->
<!--                                        </div>-->
<!--                                        <div>-->
<!--                                            <span class="key">Fecha</span>-->
<!--                                            <span class="value">{{lawsuite.createdAt | date: 'dd/MM/YYYY'}}</span>-->
<!--                                        </div>-->
<!--                                        <div>-->
<!--                                            <span class="key">Expediente</span>-->
<!--                                            <span class="value">{{lawsuite.caseFile}}</span>-->
<!--                                        </div>-->
<!--                                        <div>-->
<!--                                            <span class="key">Capital</span>-->
<!--                                            <span class="value">${{lawsuite.capital}}</span>-->
<!--                                        </div>-->
<!--                                        <div>-->
<!--                                            <span class="key">Gastos</span>-->
<!--                                            <span class="value">${{lawsuite.expenses}}</span>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </mat-tab>-->
            </mat-tab-group>
        </div>
    </div>
</div>
