<div class="page-container">
    <div class="container">
        <div class="row">
            <app-breadcrumbs
                [steps]="[{name:'Vovler al Inicio',link:'/home'}]">
            </app-breadcrumbs>
        </div>
        <div class="row my-4">
            <div class="col-12">
                <h2 class="section-title my-4">Datos Generales</h2>
                <mat-card class="default-card p-4">
                    <mat-card-content>
                        <div class="info-grid info-grid-wide">
                            <div>
                                <span>Objeto</span>
                                <span>{{objectInfo.object}}</span>
                            </div>
                            <div>
                                <span>Identificador</span>
                                <span>{{objectInfo.id}}</span>
                            </div>
                            <div>
                                <span>CUIT</span>
                                <span>{{objectInfo.cuit}}</span>
                            </div>
                            <div>
                                <span>Nombre</span>
                                <span>{{objectInfo.fullName}}</span>
                            </div>
                            <div>
                                <span>Titular</span>
                                <span>{{objectInfo.holder}}</span>
                            </div>
                            <div>
                                <span>Tipo de Liquidación</span>
                                <span>{{objectInfo.settlementType}}</span>
                            </div>
                            <div>
                                <span>Domicilio</span>
                                <span>{{objectInfo.address}}</span>
                            </div>
                        </div>
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
        <div class="row my-4">
            <div class="col-12">
                <h2 class="section-title my-4">Períodos a Pagar</h2>
                <mat-card>
                    <mat-card-content>
                            <div class="table-container">
                                <div class="row">
                                    <div class="col responsive-table">
                                        <table mat-table [dataSource]="cartDataSource" class="mat-elevation-z8" style="box-shadow: none;">
                        
                                            <!-- Período Column -->
                                            <ng-container matColumnDef="period">
                                                <th mat-header-cell *matHeaderCellDef> Período </th>
                                                <td mat-cell *matCellDef="let element"> {{element.period}} </td>
                                            </ng-container>
                        
                                            <!-- Vencimiento Column -->
                                            <ng-container matColumnDef="expiration">
                                                <th mat-header-cell *matHeaderCellDef> Vencimiento </th>
                                                <td mat-cell *matCellDef="let element"> {{element.expiration | date: 'dd/MM/YYYY'}} </td>
                                            </ng-container>
                        
                                            <!-- Nominal Column -->
                                            <ng-container matColumnDef="nominal">
                                                <th mat-header-cell *matHeaderCellDef> Nominal </th>
                                                <td mat-cell *matCellDef="let element"> {{element.nominal}} </td>
                                            </ng-container>
                        
                                            <!-- Recarga Column -->
                                            <ng-container matColumnDef="recharge">
                                                <th mat-header-cell *matHeaderCellDef> Recargo </th>
                                                <td mat-cell *matCellDef="let element"> {{element.recharge}} </td>
                                            </ng-container>
                        
                                            <!-- Descuento Column -->
                                            <ng-container matColumnDef="discount">
                                                <th mat-header-cell *matHeaderCellDef> Descuento </th>
                                                <td mat-cell *matCellDef="let element"> {{element.discount}} </td>
                                            </ng-container>
                        
                                            <!-- Multa Column -->
                                            <ng-container matColumnDef="penalty">
                                                <th mat-header-cell *matHeaderCellDef> Multa </th>
                                                <td mat-cell *matCellDef="let element"> {{element.penalty}} </td>
                                            </ng-container>
                        
                                            <!-- Total Column -->
                                            <ng-container matColumnDef="total">
                                                <th mat-header-cell *matHeaderCellDef> Total </th>
                                                <td mat-cell *matCellDef="let element"> {{element.total}} </td>
                                            </ng-container>
                        
                                            <tr mat-header-row *matHeaderRowDef="cartDisplayedColumns"></tr>
                                            <tr mat-row *matRowDef="let row; columns: cartDisplayedColumns;">
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
        <div class="row my-4">
            <div class="col-12">
                <h2 class="section-title my-4">Forma de Pago</h2>
                <mat-card class="default-card">
                    <mat-card-content class="payment-method-container">
                        <div *ngFor="let paymentMethod of paymentMethods; index as i" (click)="onSelectPaymentMethod(i)" class="default-card-style" [ngClass]="{'selected': paymentMethod.selected}" >
                            <img [src]="'./../../../assets/imgs/' + paymentMethod.name" alt="">
                        </div>
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
        <div class="row my-4">
            <div class="col-12">
                <h2 class="section-title my-4">Confirmar Pago</h2>
                <mat-card class="default-card">
                    <mat-card-content>
                        <form class="custom-form" [formGroup]="paymentForm" (ngSubmit)="onSubmit()">
                            <div class="row p-4">
                                <div class="col-sm-6">
                                    <p class="medium">Complete la siguiente información</p>
                                        <mat-form-field class="w-100 mb-2">
                                            <mat-label>Email</mat-label>
                                            <input type="email" matInput formControlName="email" placeholder="Ingrese su correo electrónico">
                                            <mat-error *ngIf="paymentForm.get('email')?.hasError('required')">
                                                Este campo es <strong>obligatorio</strong>
                                            </mat-error>
                                            <mat-error *ngIf="paymentForm.get('email')?.hasError('email')">
                                                El correo electronico ingresado no es válido
                                            </mat-error>
                                        </mat-form-field>                            
                                </div>
                                <div class="col-sm-6 text-end">
                                    <p class="medium">Total a Pagar</p>
                                    <h1 class="dark">$ 6550</h1>
                                    <button type="submit" class="mt-2" [disabled]="paymentForm.invalid" mat-flat-button color="primary">CONFIRMAR PAGO</button>
                                </div>
                            </div>
                    </form>
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
    </div>
</div>
